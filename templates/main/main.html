{% load static %}

<!-- Favicon -->
<link
  rel="apple-touch-icon"
  sizes="180x180"
  href="{% static 'favicon/apple-touch-icon.png' %}"
/>
<link
  rel="icon"
  type="image/png"
  sizes="32x32"
  href="{% static 'favicon/favicon-32x32.png' %}"
/>
<link
  rel="icon"
  type="image/png"
  sizes="16x16"
  href="{% static 'favicon/favicon-16x16.png' %}"
/>
<link rel="manifest" href="{% static 'favicon/site.webmanifest' %}" />

<!doctype html>
<html lang="en">
  <head>
    {% block meta %}
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    {% endblock %}

    {% block corecss %}
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playwrite+NZ+Basic:wght@100..400&family=Vend+Sans:ital,wght@0,300..700;1,300..700&display=swap"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    {% endblock %}

    {% block corejs %}
    <!-- Bootstrap JS Bundle -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>

    <!-- Font Awesome Kit -->
    <script
      src="https://kit.fontawesome.com/220e80d55c.js"
      crossorigin="anonymous"
    ></script>
    {% endblock %}

    <title>{% block title %}The Boat Shaq{% endblock %}</title>
  </head>

  <body>
    <nav class="main-nav">
      <a href="{% url 'home' %}" class="logo">The Boat Shaq</a>

      <div class="nav-links">
        {% if user.is_authenticated %}
        <span>Hi, {{ user.username }}</span>
        <a href="{% url 'profile' %}" class="btn btn-ghost"
          >My Profile</a
        >
        <a href="{% url 'account_logout' %}" class="btn btn-ghost"
          >Logout</a
        >
        {% else %}
        <a href="{% url 'account_login' %}" class="btn btn-ghost"
          >Login</a
        >
        <a href="{% url 'account_signup' %}" class="btn btn-ghost"
          >Sign up</a
        >
        {% endif %}
        <a href="/" class="btn btn-ghost">Home</a>
      </div>
    </nav>

    <main>
      {% block content %}
      {% endblock %}
    </main>

    <footer class="footer">
      <div class="footer-container">
        <div class="footer-inner">
          <div class="contact-info">
            <div class="contact-title">
              <strong>Contact Us:</strong>
            </div>

            <div class="contact-details">
              <div>
                <i class="fa-regular fa-paper-plane"></i>
                contact@theboatshaq.com
              </div>
              <div>
                <i class="fa-solid fa-square-phone"></i>
                +1 (234) 567-890
              </div>
            </div>
          </div>

          <p class="copyright">
            Â© <span id="year"></span> TheBoatShaq. All rights reserved.
          </p>

          <div class="social-media">
            <a
              href="https://www.facebook.com/theboatshaq"
              target="_blank"
              rel="noopener noreferrer"
              class="social-link"
            >
              <i class="fa-brands fa-facebook"></i>
            </a>

            <a
              href="https://x.com/theboatshaq"
              target="_blank"
              rel="noopener noreferrer"
              class="social-link"
            >
              <i class="fa-brands fa-x-twitter"></i>
            </a>

            <a
              href="https://www.instagram.com/theboatshaq"
              target="_blank"
              rel="noopener noreferrer"
              class="social-link"
            >
              <i class="fa-brands fa-instagram"></i>
            </a>
          </div>
        </div>
      </div>
    </footer>

    {% block postloadjs %}
    <!-- Auto-updating year -->
    <script>
      document.getElementById("year").textContent =
        new Date().getFullYear();
    </script>

    <!-- Password visibility toggle -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".toggle-password").forEach((button) => {
          button.addEventListener("click", function () {
            const input = document.getElementById(
              this.dataset.target
            );
            const icon = this.querySelector("i");

            if (!input) return;

            const showing = input.type === "text";
            input.type = showing ? "password" : "text";
            icon.classList.toggle("fa-eye", showing);
            icon.classList.toggle("fa-eye-slash", !showing);
          });
        });
      });
    </script>

    <!-- Caps Lock detector -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const passwordInputs = document.querySelectorAll(
          'input[type="password"]'
        );

        passwordInputs.forEach((input) => {
          const warning = document.getElementById(
            `caps-warning-${input.id}`
          );
          if (!warning) return;

          const updateCapsWarning = (e) => {
            const capsOn =
              e.getModifierState &&
              e.getModifierState("CapsLock");
            warning.style.display = capsOn ? "flex" : "none";
          };

          input.addEventListener("keydown", updateCapsWarning);
          input.addEventListener("keyup", updateCapsWarning);
          input.addEventListener("blur", () => {
            warning.style.display = "none";
          });
        });
      });
    </script>
    {% endblock %}
  </body>
</html>